define(function(e,t,n){"use strict";var o=brackets.getModule("project/FileTreeView"),i=brackets.getModule("project/WorkingSetView"),r=brackets.getModule("language/LanguageManager"),a=brackets.getModule("project/ProjectManager"),s=brackets.getModule("preferences/PreferencesManager"),c=s.getExtensionPrefs("custom.work"),l="useIconsOfCustomWork",u=function(e){if(e.isFile&&c.get(l)){var t=r.getLanguageForPath(e.fullPath).getId(),n=e.fullPath.substr(e.fullPath.lastIndexOf(".")+1),o=$(document.createElement("span"));return o.addClass("cw-file-icon cw-icon-"+t+" cw-icon-"+n),o}};i.addIconProvider(u),o.addIconProvider(u),c.definePreference(l,"boolean",!1,{description:"use icons of this addon (CUSTOM WORK) instead of icons of other addons"}).on("change",function(){a.rerenderTree(),i.refresh(!0),$(window).trigger(l)})});